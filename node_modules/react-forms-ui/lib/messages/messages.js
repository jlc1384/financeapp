'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

exports.default = _react2.default.createClass({
	displayName: 'messages',
	render: function render() {
		var _props = this.props,
		    id = _props.id,
		    fieldMessages = _props.fieldMessages,
		    className = _props.className,
		    showFeedback = _props.showFeedback,
		    otherProps = _objectWithoutProperties(_props, ['id', 'fieldMessages', 'className', 'showFeedback']);

		if (!fieldMessages || 'none' === showFeedback) {
			return _react2.default.createElement('div', _extends({ className: className }, otherProps));
		}
		return _react2.default.createElement(
			'div',
			_extends({ className: className }, otherProps),
			fieldMessages.map(function (message) {
				if ('all' === showFeedback || !this.isError(message)) {
					var text = typeof message === 'string' ? message : message.text;
					return _react2.default.createElement(_message2.default, { key: id + text, type: message.type, text: text });
				}
			}, this)
		);
	},
	isError: function isError(message) {
		return 'error' === message.type || !message.type;
	}
});